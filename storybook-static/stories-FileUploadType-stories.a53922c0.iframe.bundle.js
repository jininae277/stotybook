"use strict";(self.webpackChunkstorybooks=self.webpackChunkstorybooks||[]).push([[162],{"./src/stories/FileUploadType.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DisabledFileUpload:()=>DisabledFileUpload,ImageUpload:()=>ImageUpload,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FileUploadType_stories});var react=__webpack_require__("./node_modules/react/index.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),es=__webpack_require__("./node_modules/react-dropzone/dist/es/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const FileUploadWithPreview=_ref=>{let{maxSize=5242880,maxCnt=5,disabled=!1,helpText=!0,helpTextCustom}=_ref;const[files,setFiles]=(0,react.useState)([]),onDrop=(0,react.useCallback)((acceptedFiles=>{const newFiles=acceptedFiles.map((file=>({file,preview:URL.createObjectURL(file),deletedYn:"N"}))),updatedFiles=[...files,...newFiles].slice(0,maxCnt);setFiles(updatedFiles)}),[files,maxCnt]),{getRootProps,getInputProps}=(0,es.VB)({onDrop,multiple:!0,accept:"image/*",maxSize,disabled}),thumbs=files.filter((file=>"N"===file.deletedYn)).map(((file,index)=>(0,jsx_runtime.jsxs)("div",{style:{display:"inline-block",margin:"10px",position:"relative",border:"1px solid #ddd",borderRadius:"4px"},children:[(0,jsx_runtime.jsx)("img",{src:file.preview,alt:`미리보기 ${index}`,style:{width:"100px",height:"100px",objectFit:"cover"}}),(0,jsx_runtime.jsx)("span",{onClick:()=>handleDelete(index),style:{position:"absolute",top:0,right:0,backgroundColor:"red",color:"white",borderRadius:"50%",cursor:"pointer",width:"20px",height:"20px",textAlign:"center",lineHeight:"20px"},children:"×"})]},index))),handleDelete=index=>{const updatedFiles=[...files];updatedFiles[index].deletedYn="Y",setFiles(updatedFiles)};return(0,jsx_runtime.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[(0,jsx_runtime.jsxs)("div",{...getRootProps({className:"dropzone"}),style:{border:"2px dashed #ccc",padding:"20px",marginBottom:"20px",cursor:disabled?"not-allowed":"pointer",backgroundColor:disabled?"#f9f9f9":"#fff"},children:[(0,jsx_runtime.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:thumbs}),(0,jsx_runtime.jsx)("input",{...getInputProps()}),0===files.length?(0,jsx_runtime.jsxs)(Typography.A,{fontSize:14,color:disabled?"gray":"#000",children:["이미지를 드래그하거나 클릭하여 업로드하세요 (최대 ",maxCnt,"개)."]}):(0,jsx_runtime.jsx)(Typography.A,{fontSize:14,color:disabled?"gray":"#000",children:"추가 이미지를 업로드하려면 클릭 또는 드래그하세요."})]}),helpText&&(0,jsx_runtime.jsx)("div",{style:{marginTop:"10px",fontSize:"14px",color:"#666"},children:helpTextCustom||"지원되는 파일 형식: jpg, png, gif, 최대 5MB"}),(0,jsx_runtime.jsx)(Button.A,{variant:"contained",color:"primary",disabled:0===files.filter((file=>"N"===file.deletedYn)).length||disabled,style:{marginTop:"20px"},onClick:()=>alert("업로드 완료!"),children:"업로드"})]})},FileUploadType=FileUploadWithPreview;FileUploadWithPreview.__docgenInfo={description:"",methods:[],displayName:"FileUploadWithPreview",props:{maxSize:{defaultValue:{value:"5 * 1024 * 1024",computed:!1},required:!1},maxCnt:{defaultValue:{value:"5",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},helpText:{defaultValue:{value:"true",computed:!1},required:!1}}};const FileUploadType_stories={title:"Example/FileUploadType",component:FileUploadType,parameters:{layout:"centered"},tags:["autodocs"]},Template=args=>(0,jsx_runtime.jsx)(FileUploadType,{...args}),ImageUpload=Template.bind({});ImageUpload.args={maxSize:5242880,maxCnt:5,accept:"image/*",helpText:!0,helpTextCustom:"지원되는 파일 형식: jpg, png, gif, 최대 5MB"};const DisabledFileUpload=Template.bind({});DisabledFileUpload.args={maxSize:10485760,maxCnt:5,accept:"*/*",showFileExtensions:!0,helpText:!0,helpTextCustom:"지원되는 파일 형식: 모든 파일 형식, 최대 10MB",disabled:!0};const __namedExportsOrder=["ImageUpload","DisabledFileUpload"];ImageUpload.parameters={...ImageUpload.parameters,docs:{...ImageUpload.parameters?.docs,source:{originalSource:"args => <FileUploadType {...args} />",...ImageUpload.parameters?.docs?.source}}},DisabledFileUpload.parameters={...DisabledFileUpload.parameters,docs:{...DisabledFileUpload.parameters?.docs,source:{originalSource:"args => <FileUploadType {...args} />",...DisabledFileUpload.parameters?.docs?.source}}}}}]);